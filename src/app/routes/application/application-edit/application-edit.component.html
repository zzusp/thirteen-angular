<div nz-row [nzGutter]="32">
    <div nz-col [nzMd]="24">
        <nz-card [nzBordered]="false">
            <form nz-form [formGroup]="editForm" class="submit-form">
                <input type="hidden" name="id" formControlName="id"/>
                <input type="hidden" name="version" formControlName="version"/>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24">上级</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <nz-tree-select
                            formControlName="parentCode"
                            [nzNodes]="applications"
                            [nzAllowClear]="true"
                            (ngModelChange)="onChange($event)"
                            nzShowSearch
                            nzPlaceHolder="请选择">
                        </nz-tree-select>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>编码</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <input type="text"
                               name="code"
                               formControlName="code"
                               required
                               nz-input
                               placeholder="请输入">
                        <ng-container
                            *ngIf="editForm.get('code').dirty && editForm.get('code').hasError('required')">编码不可为空
                        </ng-container>
                        <ng-container *ngIf="editForm.get('code').hasError('minlength')">编码长度最少为3个字符
                        </ng-container>
                        <ng-container *ngIf="editForm.get('code').hasError('maxlength')">编码长度最多为20个字符
                        </ng-container>
                        <ng-container *ngIf="editForm.get('code').hasError('existing')">编码已存在</ng-container>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>名称</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <input type="text"
                               name="name"
                               formControlName="name"
                               required
                               nz-input
                               placeholder="请输入">
                        <ng-container
                            *ngIf="editForm.get('name').dirty && editForm.get('name').hasError('required')">名称不可为空
                        </ng-container>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>类型</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <nz-radio-group formControlName="type">
                            <label nz-radio nzValue="0">应用服务</label>
                            <label nz-radio nzValue="1">应用接口</label>
                            <label nz-radio nzValue="2">应用菜单</label>
                            <label nz-radio nzValue="3">应用菜单组</label>
                        </nz-radio-group>
                        <ng-container
                            *ngIf="editForm.get('type').dirty && editForm.get('type').hasError('required')">类型不可为空
                        </ng-container>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24">图标</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <input type="text"
                               name="icon"
                               formControlName="icon"
                               nz-input
                               placeholder="请输入">
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24">路径</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <input type="text"
                               name="url"
                               formControlName="url"
                               nz-input
                               placeholder="请输入">
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>排序</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <input type="text"
                               name="sort"
                               formControlName="sort"
                               required
                               nz-input
                               placeholder="请输入">
                        <ng-container
                            *ngIf="editForm.get('sort').dirty && editForm.get('sort').hasError('required')">排序不可为空
                        </ng-container>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired>状态</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <nz-radio-group formControlName="active">
                            <label nz-radio nzValue="1">启用</label>
                            <label nz-radio nzValue="0">禁用</label>
                        </nz-radio-group>
                        <ng-container
                            *ngIf="editForm.get('active').dirty && editForm.get('active').hasError('required')">状态不可为空
                        </ng-container>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                    <nz-form-label [nzSm]="6" [nzXs]="24">备注</nz-form-label>
                    <nz-form-control [nzSm]="14" [nzXs]="24">
                        <textarea name="remark" formControlName="remark" nz-input
                                  [nzAutosize]="{ minRows: 2, maxRows: 6 }"></textarea>
                        <ng-container *ngIf="editForm.get('remark').hasError('maxlength')">最多250个字符</ng-container>
                    </nz-form-control>
                </nz-form-item>
            </form>
        </nz-card>
    </div>
</div>